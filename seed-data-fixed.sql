-- SNS App Seed Data (Fixed Version)
-- Supabase SQL Editorã§å®Ÿè¡Œã—ã¦ãã ã•ã„

-- 1. ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿
INSERT INTO profiles (id, username, display_name, bio, avatar_url) VALUES
('550e8400-e29b-41d4-a716-446655440000', 'alice_tanaka', 'ã‚¢ãƒªã‚¹ç”°ä¸­', 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã¨ã‚³ãƒ¼ãƒ’ãƒ¼ãŒå¥½ãã§ã™ â˜•ï¸', 'https://i.pravatar.cc/150?img=1'),
('550e8400-e29b-41d4-a716-446655440001', 'bob_suzuki', 'ãƒœãƒ–éˆ´æœ¨', 'å†™çœŸæ’®å½±ã¨ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãŒè¶£å‘³ã§ã™ ğŸ“¸ğŸƒâ€â™‚ï¸', 'https://i.pravatar.cc/150?img=2'),
('550e8400-e29b-41d4-a716-446655440002', 'carol_yamada', 'ã‚­ãƒ£ãƒ­ãƒ«å±±ç”°', 'ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã§ã™ã€‚ç¾ã—ã„ã‚‚ã®ãŒå¤§å¥½ã âœ¨', 'https://i.pravatar.cc/150?img=3'),
('550e8400-e29b-41d4-a716-446655440003', 'david_sato', 'ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ä½è—¤', 'ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ | èª­æ›¸å®¶ | çŒ«å¥½ã ğŸ±', 'https://i.pravatar.cc/150?img=4'),
('550e8400-e29b-41d4-a716-446655440004', 'emma_watanabe', 'ã‚¨ãƒæ¸¡è¾º', 'æ–™ç†ã¨ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ ğŸŒ±ğŸ³', 'https://i.pravatar.cc/150?img=5');

-- 2. æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿
INSERT INTO posts (user_id, content, created_at) VALUES
-- ã‚¢ãƒªã‚¹ã®æŠ•ç¨¿
('550e8400-e29b-41d4-a716-446655440000', 'æ–°ã—ã„ã‚³ãƒ¼ãƒ’ãƒ¼ã‚·ãƒ§ãƒƒãƒ—ã‚’ç™ºè¦‹ã—ã¾ã—ãŸï¼ã‚¨ã‚¹ãƒ—ãƒ¬ãƒƒã‚½ãŒçµ¶å“ã§ã—ãŸ â˜•ï¸ #ã‚³ãƒ¼ãƒ’ãƒ¼å¥½ã', NOW() - INTERVAL '2 hours'),
('550e8400-e29b-41d4-a716-446655440000', 'Next.jsã¨Supabaseã§SNSã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãŒæ¥½ã—ã„ï¼ #é–‹ç™ºæ—¥è¨˜', NOW() - INTERVAL '1 day'),

-- ãƒœãƒ–ã®æŠ•ç¨¿
('550e8400-e29b-41d4-a716-446655440001', 'ä»Šæœã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã§ç´ æ™´ã‚‰ã—ã„æœæ—¥ã‚’æ’®å½±ã§ãã¾ã—ãŸ ğŸŒ… #ãƒ©ãƒ³ãƒ‹ãƒ³ã‚° #å†™çœŸ', NOW() - INTERVAL '6 hours'),
('550e8400-e29b-41d4-a716-446655440001', 'æ–°ã—ã„ã‚«ãƒ¡ãƒ©ãƒ¬ãƒ³ã‚ºã‚’è³¼å…¥ï¼é€±æœ«ã«è©¦ã—æ’®ã‚Šã«è¡Œãäºˆå®šã§ã™ ğŸ“¸', NOW() - INTERVAL '2 days'),

-- ã‚­ãƒ£ãƒ­ãƒ«ã®æŠ•ç¨¿
('550e8400-e29b-41d4-a716-446655440002', 'UI/UXãƒ‡ã‚¶ã‚¤ãƒ³ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã«ã¤ã„ã¦ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚ãƒªãƒ³ã‚¯ã¯ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ï¼', NOW() - INTERVAL '4 hours'),
('550e8400-e29b-41d4-a716-446655440002', 'Figmaã®æ–°æ©Ÿèƒ½ãŒç´ æ™´ã‚‰ã—ã„ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæ ¼æ®µã«å‘ä¸Šã—ã¾ã—ãŸ âœ¨', NOW() - INTERVAL '1 day'),

-- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ã®æŠ•ç¨¿
('550e8400-e29b-41d4-a716-446655440003', 'TypeScriptã®å‹å®‰å…¨æ€§ã«ã¤ã„ã¦è€ƒãˆã¦ã„ã¾ã—ãŸã€‚Prismaã¨ã®çµ„ã¿åˆã‚ã›ãŒæœ€é«˜ã§ã™ã­ï¼', NOW() - INTERVAL '8 hours'),
('550e8400-e29b-41d4-a716-446655440003', 'çŒ«ã®ãƒŸã‚±ãŒæ–°ã—ã„ãŠã‚‚ã¡ã‚ƒã‚’æ°—ã«å…¥ã£ãŸã‚ˆã†ã§ã™ ğŸ± å¯æ„›ã™ãã‚‹...', NOW() - INTERVAL '12 hours'),

-- ã‚¨ãƒã®æŠ•ç¨¿
('550e8400-e29b-41d4-a716-446655440004', 'å®¶åº­èœåœ’ã§ãƒˆãƒãƒˆãŒå®Ÿã‚Šã¾ã—ãŸï¼ä»Šå¤œã¯ãƒ‘ã‚¹ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ä½œã‚‹äºˆå®š ğŸ…', NOW() - INTERVAL '3 hours'),
('550e8400-e29b-41d4-a716-446655440004', 'æ–°ã—ã„ãƒ‘ãƒ³ä½œã‚Šã®ãƒ¬ã‚·ãƒ”ã«æŒ‘æˆ¦ä¸­ã€‚ç™ºé…µãŒã†ã¾ãã„ãã¾ã™ã‚ˆã†ã« ğŸ', NOW() - INTERVAL '1 day');

-- 3. ãƒ•ã‚©ãƒ­ãƒ¼ãƒ‡ãƒ¼ã‚¿
INSERT INTO follows (follower_id, following_id) VALUES
-- ã‚¢ãƒªã‚¹ãŒãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äºº
('550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440001'), -- ãƒœãƒ–
('550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440002'), -- ã‚­ãƒ£ãƒ­ãƒ«
('550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440003'), -- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰

-- ãƒœãƒ–ãŒãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äºº
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000'), -- ã‚¢ãƒªã‚¹
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440002'), -- ã‚­ãƒ£ãƒ­ãƒ«
('550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440004'), -- ã‚¨ãƒ

-- ã‚­ãƒ£ãƒ­ãƒ«ãŒãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äºº
('550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440000'), -- ã‚¢ãƒªã‚¹
('550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440003'), -- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰
('550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440004'), -- ã‚¨ãƒ

-- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ãŒãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äºº
('550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440000'), -- ã‚¢ãƒªã‚¹
('550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440001'), -- ãƒœãƒ–
('550e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440004'), -- ã‚¨ãƒ

-- ã‚¨ãƒãŒãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äºº
('550e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440001'), -- ãƒœãƒ–
('550e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440002'), -- ã‚­ãƒ£ãƒ­ãƒ«
('550e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440003'); -- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰

-- 4. ã„ã„ã­ãƒ‡ãƒ¼ã‚¿ï¼ˆæ®µéšçš„ã«å®Ÿè¡Œï¼‰
-- ã‚¢ãƒªã‚¹ã®ã‚³ãƒ¼ãƒ’ãƒ¼æŠ•ç¨¿ã¸ã®ã„ã„ã­
INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440001', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440000' AND content LIKE '%ã‚³ãƒ¼ãƒ’ãƒ¼ã‚·ãƒ§ãƒƒãƒ—%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440002', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440000' AND content LIKE '%ã‚³ãƒ¼ãƒ’ãƒ¼ã‚·ãƒ§ãƒƒãƒ—%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440004', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440000' AND content LIKE '%ã‚³ãƒ¼ãƒ’ãƒ¼ã‚·ãƒ§ãƒƒãƒ—%';

-- ãƒœãƒ–ã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°æŠ•ç¨¿ã¸ã®ã„ã„ã­
INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440000', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440001' AND content LIKE '%æœæ—¥ã‚’æ’®å½±%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440002', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440001' AND content LIKE '%æœæ—¥ã‚’æ’®å½±%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440003', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440001' AND content LIKE '%æœæ—¥ã‚’æ’®å½±%';

-- ã‚­ãƒ£ãƒ­ãƒ«ã®ãƒ‡ã‚¶ã‚¤ãƒ³æŠ•ç¨¿ã¸ã®ã„ã„ã­
INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440000', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440002' AND content LIKE '%UI/UX%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440001', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440002' AND content LIKE '%UI/UX%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440003', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440002' AND content LIKE '%UI/UX%';

-- ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ã®çŒ«æŠ•ç¨¿ã¸ã®ã„ã„ã­
INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440000', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440003' AND content LIKE '%çŒ«ã®ãƒŸã‚±%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440002', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440003' AND content LIKE '%çŒ«ã®ãƒŸã‚±%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440004', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440003' AND content LIKE '%çŒ«ã®ãƒŸã‚±%';

-- ã‚¨ãƒã®æ–™ç†æŠ•ç¨¿ã¸ã®ã„ã„ã­
INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440001', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440004' AND content LIKE '%ãƒˆãƒãƒˆ%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440002', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440004' AND content LIKE '%ãƒˆãƒãƒˆ%';

INSERT INTO likes (user_id, post_id) 
SELECT '550e8400-e29b-41d4-a716-446655440003', id 
FROM posts WHERE user_id = '550e8400-e29b-41d4-a716-446655440004' AND content LIKE '%ãƒˆãƒãƒˆ%';

-- 5. ã„ã„ã­æ•°ã®æ›´æ–°
UPDATE posts SET likes_count = (
    SELECT COUNT(*) FROM likes WHERE post_id = posts.id
);

-- æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨çµ±è¨ˆ
SELECT 
    'Seed data inserted successfully!' as message,
    (SELECT COUNT(*) FROM profiles) as profiles_count,
    (SELECT COUNT(*) FROM posts) as posts_count,
    (SELECT COUNT(*) FROM likes) as likes_count,
    (SELECT COUNT(*) FROM follows) as follows_count; 